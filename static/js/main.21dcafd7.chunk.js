(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t,n){e.exports=n.p+"static/media/unstake.cebdc53d.png"},17:function(e,t,n){e.exports={Staking:"Staking_Staking__Hf4Rk",icon:"Staking_icon__3v_8B",inputDiv:"Staking_inputDiv__bRjrw",input:"Staking_input__1Z2Yu",totals:"Staking_totals__uP4fZ",goMax:"Staking_goMax__JDdIT",stakeButton:"Staking_stakeButton__1-uE8",unstakeButton:"Staking_unstakeButton__Hw_13",stakeIcon:"Staking_stakeIcon__3l7fE"}},197:function(e){e.exports=[{inputs:[{internalType:"uint256",name:"initialSupply",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}]},198:function(e){e.exports=[{inputs:[{internalType:"address",name:"_token",type:"address"},{internalType:"uint8",name:"_fixedAPY",type:"uint8"},{internalType:"uint256",name:"_durationInDays",type:"uint256"},{internalType:"uint256",name:"_lockDurationInDays",type:"uint256"},{internalType:"uint256",name:"_maxAmountStaked",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"stakeHolder",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Claim",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"startPeriod",type:"uint256"},{indexed:!1,internalType:"uint256",name:"lockupPeriod",type:"uint256"},{indexed:!1,internalType:"uint256",name:"endingPeriod",type:"uint256"}],name:"StartStaking",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Withdraw",type:"event"},{inputs:[{internalType:"address",name:"stakeHolder",type:"address"}],name:"amountStaked",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"claimRewards",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"deposit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"endPeriod",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"fixedAPY",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"lockupDuration",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"lockupPeriod",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"stakeHolder",type:"address"}],name:"rewardOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"staked",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"stakingDuration",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"stakingMax",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"startPeriod",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"startStaking",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"token",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalDeposited",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawResidualBalance",outputs:[],stateMutability:"nonpayable",type:"function"}]},199:function(e,t,n){e.exports=n.p+"static/media/stake.e8708439.png"},200:function(e,t,n){e.exports=n.p+"static/media/icon.6b47307e.png"},202:function(e,t,n){e.exports=n(485)},220:function(e,t){},229:function(e,t){},246:function(e,t){},248:function(e,t){},262:function(e,t){},263:function(e,t){},265:function(e,t){},266:function(e,t){},341:function(e,t){},343:function(e,t){},375:function(e,t){},377:function(e,t){},382:function(e,t){},384:function(e,t){},391:function(e,t){},392:function(e,t){},394:function(e,t){},406:function(e,t){},409:function(e,t){},414:function(e,t){},425:function(e,t){},428:function(e,t){},482:function(e,t,n){},485:function(e,t,n){"use strict";n.r(t);var a=n(5),i=n.n(a),s=n(194),u=n.n(s),o=n(201),r=n(21),p=n.n(r),l=n(101),c=n(16),d=n(195),y=n.n(d),m=n(56),f=n.n(m),b=n(197),w=n(198),k=n(17),T=n.n(k),g=n(199),v=n.n(g),h=n(103),x=n.n(h),S=n(200),E=n.n(S),M=function(e){var t=Object(a.useState)(""),n=Object(c.a)(t,2),s=n[0],u=n[1];return i.a.createElement("div",{className:T.a.Staking},i.a.createElement("img",{src:E.a,alt:"logo",className:T.a.icon}),i.a.createElement("h1",null," Yield Farming / Token Staking dApp"),i.a.createElement("p",null,e.account),i.a.createElement("h3",null,e.apy,"% (APY) - ",e.apy/365,"% Daily Earnings"),i.a.createElement("div",{className:T.a.inputDiv},i.a.createElement("input",{className:T.a.input,type:"number",min:"0",step:"1",onChange:function(t){t.preventDefault(),u(t.target.value),e.inputHandler(t.target.value)},value:s})),i.a.createElement("button",{className:T.a.stakeButton,onClick:function(){e.stakeHandler(),u("")}},i.a.createElement("img",{src:v.a,alt:"stake icon",className:T.a.stakeIcon}),i.a.createElement("p",null,"Stake")),"\xa0 \xa0",i.a.createElement("button",{className:T.a.unstakeButton,onClick:e.unStakeHandler},i.a.createElement("img",{src:x.a,alt:"unstake icon",className:T.a.stakeIcon}),i.a.createElement("p",null,"Unstake All")),i.a.createElement("button",{className:T.a.unstakeButton,onClick:e.claimRewardsHandler},i.a.createElement("img",{src:x.a,alt:"unstake icon",className:T.a.stakeIcon}),i.a.createElement("p",null,"Claim Rewards")),i.a.createElement("div",{className:T.a.totals},i.a.createElement("h4",null,"Total Staked (by all users): ",e.totalStaked," QTest"),i.a.createElement("div",null,"\xa0"),i.a.createElement("h5",null,"My Stake: ",e.myStake," QTest "),i.a.createElement("h5",null,"My Reward:"," ",e.myReward," QTest"),i.a.createElement("h5",{onClick:function(){u(e.userBalance),e.inputHandler(e.userBalance)},className:T.a.goMax},"My balance: ",e.userBalance," QTest"),i.a.createElement("h5",{className:T.a.goMax},"Contract balance: ",e.contractBalance," QTest")))},_=function(){var e=Object(a.useState)("Connecting to Metamask.."),t=Object(c.a)(e,2),n=t[0],s=t[1],u=Object(a.useState)({id:"0",name:"none"}),r=Object(c.a)(u,2),d=r[0],m=r[1],k=Object(a.useState)(""),T=Object(c.a)(k,2),g=T[0],v=T[1],h=Object(a.useState)(""),x=Object(c.a)(h,2),S=x[0],E=x[1],_=Object(a.useState)(""),O=Object(c.a)(_,2),j=O[0],C=O[1],A=Object(a.useState)("0"),D=Object(c.a)(A,2),B=D[0],N=D[1],H=Object(a.useState)(0),R=Object(c.a)(H,2),I=R[0],P=R[1],W=Object(a.useState)(0),F=Object(c.a)(W,2),Q=F[0],Y=F[1],G=Object(a.useState)(0),J=Object(c.a)(G,2),q=J[0],U=J[1],V=Object(a.useState)(!0),Z=Object(c.a)(V,2),L=Z[0],z=Z[1],K=Object(a.useState)(!1),X=Object(c.a)(K,2),$=X[0],ee=X[1],te=Object(a.useState)("0"),ne=Object(c.a)(te,2),ae=ne[0],ie=ne[1],se=Object(a.useState)(0),ue=Object(c.a)(se,2),oe=ue[0],re=ue[1];Object(a.useEffect)(function(){!function(){var e=Object(l.a)(p.a.mark(function e(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:pe();case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[]);var pe=function(){var e=Object(l.a)(p.a.mark(function e(){var t,n,a,i,u,r,l,c,f,k,T,g,h,x,S,M,_;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.ethereum){e.next=61;break}return e.next=3,window.ethereum.request({method:"eth_requestAccounts"});case 3:return window.web3=new y.a(window.ethereum),t=window.web3,e.next=7,t.eth.getAccounts();case 7:return n=e.sent,s(n[0]),e.next=11,t.eth.net.getId();case 11:return a=e.sent,e.next=14,t.eth.net.getNetworkType();case 14:if(i=e.sent,m(Object(o.a)({},d,{id:a,name:i})),97!==a){e.next=32;break}return u=window.web3,r=new u.eth.Contract(b,"0xF891A8A750dC23C40cf8Aca1E643350Acb381153"),v(r),e.next=22,r.methods.balanceOf(n[0]).call();case 22:return l=e.sent,c=window.web3.utils.fromWei(l.toString(),"Ether"),ie(c),e.next=27,r.methods.balanceOf("0xDDB97C7863c7950FC01c51f235C4c137d6683479").call();case 27:f=e.sent,c=window.web3.utils.fromWei(f.toString(),"Ether"),N(c),e.next=34;break;case 32:z(!1),window.alert("TestToken contract is not deployed on this network, please change to testnet");case 34:if(97!==a){e.next=56;break}return k=window.web3,T=new k.eth.Contract(w,"0xDDB97C7863c7950FC01c51f235C4c137d6683479"),E(T),e.next=40,T.methods.amountStaked(n[0]).call();case 40:return g=e.sent,h=window.web3.utils.fromWei(g.toString(),"Ether"),Y(h),e.next=45,T.methods.totalDeposited().call();case 45:return x=e.sent,S=window.web3.utils.fromWei(x.toString(),"Ether"),P(S),e.next=50,T.methods.rewardOf(n[0]).call();case 50:M=e.sent,_=window.web3.utils.fromWei(M.toString(),"Ether"),U(_),re(250),e.next=58;break;case 56:z(!1),window.alert("TokenStaking contract is not deployed on this network, please change to testnet");case 58:ee(!1),e.next=62;break;case 61:window.web3||(z(!1),s("Metamask is not detected"),ee(!1));case 62:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return i.a.createElement("div",{className:f.a.Grid},$?i.a.createElement("div",{className:f.a.curtain}):null,i.a.createElement("div",{className:f.a.loader}),i.a.createElement("div",{className:f.a.Child},i.a.createElement("div",null,i.a.createElement(M,{account:n,totalStaked:I,contractBalance:B,myStake:Q,myReward:q,userBalance:ae,unStakeHandler:function(){L&&(ee(!0),S.methods.withdrawAll().send({from:n}).on("transactionHash",function(e){ee(!1),pe()}).on("receipt",function(e){ee(!1),pe()}).on("confirmation",function(e,t){ee(!1),pe()}).on("error",function(e){console.log("Error Code:",e.code),console.log(e.message),ee(!1)}),C(""))},stakeHandler:function(){if(L)if(!j||"0"===j||j<0)C("");else{ee(!0);var e=window.web3.utils.toWei(j,"Ether");g.methods.approve("0xDDB97C7863c7950FC01c51f235C4c137d6683479",e).send({from:n}).on("transactionHash",function(t){S.methods.deposit(e).send({from:n}).on("transactionHash",function(e){ee(!1),pe()}).on("receipt",function(e){ee(!1),pe()}).on("confirmation",function(e,t){ee(!1),pe()})}).on("error",function(e){ee(!1),console.log("Error Code:",e.code),console.log(e.message)}),C("")}},inputHandler:function(e){C(e)},claimRewardsHandler:function(){L&&(ee(!0),S.methods.claimRewards().send({from:n}).on("transactionHash",function(e){ee(!1),pe()}).on("receipt",function(e){ee(!1),pe()}).on("confirmation",function(e,t){ee(!1),pe()}).on("error",function(e){console.log("Error Code:",e.code),console.log(e.message),ee(!1)}),C(""))},apy:oe}))))};n(482);u.a.render(i.a.createElement(_,null),document.getElementById("root"))},56:function(e,t,n){e.exports={Grid:"App_Grid__38lLN",Child:"App_Child__1GUl4",curtain:"App_curtain__2ynil"}}},[[202,2,1]]]);
//# sourceMappingURL=main.21dcafd7.chunk.js.map